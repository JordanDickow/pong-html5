<!DOCTYPE html>
<html>
<head>
    <!-- New things -->
<!-- getContext() object method takes in a parameter to determine what kind of objects you want to render to the page -->
<!-- 2d objects = get getContext('2d')-->
<!-- setInterval() evaluates a function in a given time (set in milliseconds) -->
    <!-- Steps -->
        <!-- Game Board -->
            <!-- Used canvas tag to create conrtainer for game level with size classes. -->
            <!-- Created variables to keep track of attributes in game -->
            <!-- told page to run 'Hello World' with window.onload function -->
            <!-- Change characristics  of tag by getting the id -->
            <!-- established what objects I want to render with getContext() -->
            <!-- Left Paddle -->
            <!-- Copy pasta'd fill style fill rect methods to create a left paddle. Changed color to red. -->
    <title> Jordan's Pong Game</title>
    </head>
    <body>

        <canvas id="gameCanvas" width="800" height="600">
        <script>

            var  canvas
            var canvasContext
            var ballX = 50
            var ballY = 50
            var ballSpeedX = 10
            var ballSpeedY = 5

            var player1Y = 250
            var paddle2Y = 250
            const PADDLE_THICKNESS = 10
            const PADDLE_HEIGHT = 100

            function calculateMousePos(evt) {
                var rect = canvas.getBoundingClientRect()
                var root = document.documentElement
                var mouseX =  evt.clientX - rect.left - root.scrollLeft
                var mouseY = evt.clientY - rect.top - root.scrollTop
                return {
                    x:mouseX,
                    y:mouseY
                }
            }

        window.onload = function() {
            // get id of canvas tag
        canvas = document.getElementById('gameCanvas')
        // draws color of canvas
            canvasContext = canvas.getContext('2d')

                var framesPerSecond = 30;
                setInterval( function(){
                    moveEverything()
                    drawEverything()
                } , 1000/framesPerSecond)

                canvas.addEventListener('mousemove',
                        function(evt){
                            var mousePos = calculateMousePos(evt)
                            paddle1Y = mousePos.y - (PADDLE_HEIGHT/2)
            })
            }

            function ballReset() {
                ballSpeedX = -ballSpeedX
                ballX = canvas.width/2
                ballY = canvas.height/2
            }

            function moveEverything() {
                            ballX =  ballX + ballSpeedX
                            ballY =  ballY + ballSpeedY

                            if(ballX < 0) {
                                if(ballY > paddle1Y && ballY < paddle1Y+PADDLE_HEIGHT) {
                                    ballSpeedX = -ballSpeedX
                                } else {
                                    
                                        ballReset()
                                }
                            }
                            if(ballX > canvas.width) {
                                ballSpeedX = -ballSpeedX
                    }

                    if(ballY < 0) {
                    ballSpeedY = -ballSpeedY
                    }
                    if(ballY > canvas.height) {
                        ballSpeedY = -ballSpeedY
            }
            }

            function drawEverything() {
        colorRect(0,0,canvas.width,canvas.height,'black')
        //draws paddle
        colorRect(25,paddle1Y,10,PADDLE_HEIGHT,'white')
        // draws second paddle
        colorRect(780,100,10,110,'white')
        //  draws  ball
        drawCircle(ballX, ballY, 7, 'white')


        }
        function drawCircle(centerX, centerY, radius, drawColor) {
            canvasContext.fillStyle = drawColor
            canvasContext.beginPath()
            canvasContext.arc(centerX, centerY, radius, 0, Math.PI*2, true)
            canvasContext.fill();
        }
        function colorRect(leftX,topY,width,height, drawColor) {
                canvasContext.fillStyle = drawColor
                canvasContext.fillRect(leftX,topY,width,height)
}
        </script>
        </body>
</html>
